# 📚 PRISMA文献筛选助手 v1.3

一个强大的文献筛选和 PRISMA 2020 流程图生成工具，帮助研究者高效完成系统综述和荟萃分析的文献筛选工作。

## ✨ 核心功能

### 🚀 v1.3 新功能
- 📄 **完整摘要导出**：导出Excel时自动包含文献摘要，方便全文筛选和引用
- 🤖 **智能研究方法识别**：基于标题和摘要自动识别研究设计类型（RCT、队列研究、Meta分析等）
- ✏️ **人工修正支持**：自动识别结果可手动审核修改，确保准确性
- 🏷️ **中文列名优化**：导出文件使用中文表头，更符合国内使用习惯

### 🎯 v1.2 优化改进
- 🎨 **折叠面板优化**：数据库导出教程默认折叠，减少首屏空间占用
- 📍 **吸顶导航**：步骤导航栏滚动时吸顶，方便快速切换步骤
- 🛡️ **隐私声明**：醒目标注本地离线处理，数据不上传服务器
- ⚙️ **去重功能说明**：添加去重设置选项，说明去重规则和自定义方法

### 🎉 v1.1 核心功能（双人协作审查）
- 👥 **真正的双用户登录系统**：独立登录页面，每个审查员拥有独立会话
- 🤝 **项目协作机制**：主审查员创建项目，副审查员通过项目ID加入
- 📊 **Cohen's Kappa一致性分析**：自动计算审查员间一致性指标
- 🔍 **智能分歧识别**：自动标记意见不一致的文献并提供协商界面
- 💾 **实时数据同步**：双方决策自动保存，支持跨浏览器协作
- 📈 **完整学术流程**：独立审查→一致性计算→分歧协商→最终结果

### v1.0 基础功能
- 🎯 **多文件上传**：支持同时上传多个文献数据库导出文件
- 🔄 **跨来源去重**：自动识别不同数据库的重复文献
- 📊 **真实数据统计**：准确追踪各数据库文献数量（识别阶段）
- 👁️ **人工全文审查**：新增第4步，支持逐篇审查并记录排除理由
- 📝 **详细排除记录**：导出包含排除阶段和理由的完整数据

### 通用功能
- 📁 **多格式支持**：CSV, TSV, RIS, BibTeX, Endnote, RDF, TXT等8种格式
- 🎨 **智能字段映射**：自动识别Zotero、Endnote、PubMed等导出格式
- 🔍 **灵活筛选规则**：
  - 时间窗口过滤（默认2000-2030），可调整
  - 包含关键词（OR逻辑，支持多个）
  - 排除关键词（自定义理由）
  - 语言筛选（中文/英文）
  - 必填字段检查
- 🎨 **PRISMA 2020流程图**：3种配色方案（彩色/黑白/淡雅）
- 📊 **导出功能**：
  - 纳入文献 (Excel/CSV)
  - 排除文献 (Excel/CSV，含排除理由和阶段)
  - PRISMA流程图 (SVG)
  - 筛选报告 (Markdown)

## 🚀 在线使用

**GitHub Pages:** https://quzhiii.github.io/-PRISMA-/

## 💻 本地运行

1. 克隆仓库：
```bash
git clone https://github.com/[quzhiii]/literature-screening-v30.git
cd literature-screening-v30
```

2. 启动本地服务器：
```bash
# Python 3
python -m http.server 8000

# 或使用其他HTTP服务器
npx http-server -p 8000
```

3. 在浏览器打开：`http://localhost:8000`

## 📖 使用指南

### 第1步：上传文献数据
- 支持多文件上传（可同时选择PubMed、Web of Science、CNKI等多个来源）
- 自动检测文件格式和字段映射
- 显示上传文件数量和总记录数

### 第2步：配置筛选规则
1. **时间窗口**：设置发表年份范围（默认2000-2030）
2. **包含关键词**：
   - 每行一个关键词
   - 任一命中即通过（OR逻辑）
   - 留空则不进行关键词过滤
3. **排除关键词**：
   - 点击"+ 添加排除规则"
   - 输入关键词和排除理由
4. **语言和必填字段**：
   - 默认允许中英文
   - 可选择必须包含标题或摘要

### 第3步：查看初步结果
- 查看PRISMA流程图
- 查看筛选统计数据
- 下载纳入/排除文献列表
- 进入第4步进行人工审查

### 第4步：人工全文审查
- 逐篇审查通过标题/摘要筛选的文献
- 为需要排除的文献选择理由：
  - 人群不符
  - 干预不符
  - 对照不符
  - 缺乏结局
  - 数据不完整
  - 研究设计不合适
- 完成审查后返回第3步查看最终结果

## 🎯 支持的文献格式

| 格式 | 来源 | 扩展名 |
|------|------|--------|
| RIS | Zotero, Endnote, RefWorks | .ris |
| BibTeX | LaTeX, JabRef | .bib |
| CSV/TSV | 通用表格 | .csv, .tsv |
| Endnote | Endnote | .enw |
| RDF | Zotero | .rdf |
| TXT | PubMed, 自定义 | .txt |

## 🔧 技术栈

- **纯前端**：HTML + CSS + Vanilla JavaScript
- **无需后端**：所有处理在浏览器本地完成
- **隐私保护**：数据不上传服务器
- **依赖**：
  - js-yaml: YAML格式解析（用于部分BibTeX处理）

## 🎨 设计特色

- **Perplexity风格**：采用Perplexity设计系统的颜色和排版规范
- **响应式设计**：适配桌面和移动设备
- **高对比度**：确保良好的可读性
- **流畅动画**：CSS过渡和加载动画

## 📝 更新日志

### v1.1 (2025-11-25) - 👥 双人协作审查版
**目标：让科研小白也能轻松上手**

✅ **已完成（第1优先级）：**
- 新增"加载示例数据"按钮 - 一键体验完整流程
- 新增数据库导出教程面板 - 包含PubMed、知网、WoS、Cochrane详细步骤
- 增强错误提示系统 - 详细的错误原因分析和解决建议
- 新增新手引导面板 - 醒目的入门帮助

🚧 **规划中（第2优先级）：**
- 项目保存/加载功能 - 防止数据丢失
- 批量操作优化 - 提高第4步人工审查效率
- 快捷键支持 - 快速排除文献

📋 **未来计划（第3优先级）：**
- 双人审查模式 - 符合高质量系统综述标准
- Kappa一致性计算 - 自动计算审查员间一致性
- 移动端优化 - 支持手机/平板使用

### v1.0 (2025-10-24)
- ✅ 新增多文件上传功能
- ✅ 实现跨来源自动去重
- ✅ 新增第4步人工全文审查界面
- ✅ 修复真实数据统计（识别阶段）
- ✅ 优化关键词过滤（支持多关键词OR逻辑）
- ✅ 增强Zotero字段兼容性
- ✅ 改进排除文献导出（包含排除阶段和理由）
- ✅ 添加友好的空数据提示

### v0.8
- 基础筛选功能
- PRISMA流程图生成
- 多格式导入支持

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📄 许可证

MIT License

## 🙏 致谢

- PRISMA 2020指南
- Perplexity设计系统
- 开源社区

---

**开发者**: [quzhiii]  
**问题反馈**: [GitHub Issues](https://github.com/[quzhiii]/literature-screening-v30/issues)  
**最后更新**: 2025-11-24
