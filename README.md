# 📚 文献快筛 + PRISMA 流程图生成工具 v3.0

一个强大的文献筛选和 PRISMA 2020 流程图生成工具，帮助研究者高效完成系统综述和荟萃分析的文献筛选工作。

## ✨ 核心功能

### v3.0 新功能
- 🎯 **多文件上传**：支持同时上传多个文献数据库导出文件
- 🔄 **跨来源去重**：自动识别不同数据库的重复文献
- 📊 **真实数据统计**：准确追踪各数据库文献数量（识别阶段）
- 👁️ **人工全文审查**：新增第4步，支持逐篇审查并记录排除理由
- 📝 **详细排除记录**：导出包含排除阶段和理由的完整数据

### 基础功能
- 📁 **多格式支持**：CSV, TSV, RIS, BibTeX, Endnote, RDF, TXT等8种格式
- 🎨 **智能字段映射**：自动识别Zotero、Endnote、PubMed等导出格式
- 🔍 **灵活筛选规则**：
  - 时间窗口过滤（默认2000-2030）
  - 包含关键词（OR逻辑，支持多个）
  - 排除关键词（自定义理由）
  - 语言筛选（中文/英文）
  - 必填字段检查
- 🎨 **PRISMA 2020流程图**：3种配色方案（彩色/黑白/淡雅）
- 📊 **导出功能**：
  - 纳入文献 (Excel/CSV)
  - 排除文献 (Excel/CSV，含排除理由和阶段)
  - PRISMA流程图 (SVG)
  - 筛选报告 (Markdown)

## 🚀 在线使用

**GitHub Pages:** https://[your-username].github.io/literature-screening-v30/

## 💻 本地运行

1. 克隆仓库：
```bash
git clone https://github.com/[your-username]/literature-screening-v30.git
cd literature-screening-v30
```

2. 启动本地服务器：
```bash
# Python 3
python -m http.server 8000

# 或使用其他HTTP服务器
npx http-server -p 8000
```

3. 在浏览器打开：`http://localhost:8000`

## 📖 使用指南

### 第1步：上传文献数据
- 支持多文件上传（可同时选择PubMed、Web of Science、CNKI等多个来源）
- 自动检测文件格式和字段映射
- 显示上传文件数量和总记录数

### 第2步：配置筛选规则
1. **时间窗口**：设置发表年份范围（默认2000-2030）
2. **包含关键词**：
   - 每行一个关键词
   - 任一命中即通过（OR逻辑）
   - 留空则不进行关键词过滤
3. **排除关键词**：
   - 点击"+ 添加排除规则"
   - 输入关键词和排除理由
4. **语言和必填字段**：
   - 默认允许中英文
   - 可选择必须包含标题或摘要

### 第3步：查看初步结果
- 查看PRISMA流程图
- 查看筛选统计数据
- 下载纳入/排除文献列表
- 进入第4步进行人工审查

### 第4步：人工全文审查
- 逐篇审查通过标题/摘要筛选的文献
- 为需要排除的文献选择理由：
  - 人群不符
  - 干预不符
  - 对照不符
  - 缺乏结局
  - 数据不完整
  - 研究设计不合适
- 完成审查后返回第3步查看最终结果

## 🎯 支持的文献格式

| 格式 | 来源 | 扩展名 |
|------|------|--------|
| RIS | Zotero, Endnote, RefWorks | .ris |
| BibTeX | LaTeX, JabRef | .bib |
| CSV/TSV | 通用表格 | .csv, .tsv |
| Endnote | Endnote | .enw |
| RDF | Zotero | .rdf |
| TXT | PubMed, 自定义 | .txt |

## 🔧 技术栈

- **纯前端**：HTML + CSS + Vanilla JavaScript
- **无需后端**：所有处理在浏览器本地完成
- **隐私保护**：数据不上传服务器
- **依赖**：
  - js-yaml: YAML格式解析（用于部分BibTeX处理）

## 🎨 设计特色

- **Perplexity风格**：采用Perplexity设计系统的颜色和排版规范
- **响应式设计**：适配桌面和移动设备
- **高对比度**：确保良好的可读性
- **流畅动画**：CSS过渡和加载动画

## 📝 更新日志

### v3.0 (2025-01-24)
- ✅ 新增多文件上传功能
- ✅ 实现跨来源自动去重
- ✅ 新增第4步人工全文审查界面
- ✅ 修复真实数据统计（识别阶段）
- ✅ 优化关键词过滤（支持多关键词OR逻辑）
- ✅ 增强Zotero字段兼容性
- ✅ 改进排除文献导出（包含排除阶段和理由）
- ✅ 添加友好的空数据提示

### v2.2
- 基础筛选功能
- PRISMA流程图生成
- 多格式导入支持

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📄 许可证

MIT License

## 🙏 致谢

- PRISMA 2020指南
- Perplexity设计系统
- 开源社区

---

**开发者**: [quzhiii]  
**问题反馈**: [GitHub Issues](https://github.com/[quzhiii]/literature-screening-v30/issues)  
**最后更新**: 2025-11-24
